# Trac Database Configuration Template
# Add this configuration to your trac.ini file

[trac]
# PostgreSQL database connection string
# Format: postgres://user:password@host:port/database?schema=schema_name
database = postgres://tracadmin:${DB_PASSWORD}@hutch-learntrac-dev-db.c1uuigcm4bd1.us-east-2.rds.amazonaws.com:5432/learntrac?schema=trac

# Database connection pool settings
[trac]
database_connection_pool_size = 10
database_connection_max_lifetime = 3600

# PostgreSQL-specific settings
[postgres]
# Use server-side cursors for better performance with large result sets
server_side_cursors = true

# Set statement timeout (in milliseconds)
statement_timeout = 30000

# Connection options
connect_timeout = 10
options = -c search_path=trac,public

# Performance tuning
[trac]
# Cache settings
cache_size = 128
cache_ttl = 3600

# Query optimization
use_base_url_for_redirect = false
timeout = 30

# Session settings
[session]
# Session timeout in seconds (24 hours)
timeout = 86400

# Database backup settings (for reference)
[backup]
# Backup command template
# pg_dump -h hutch-learntrac-dev-db.c1uuigcm4bd1.us-east-2.rds.amazonaws.com -U tracadmin -d learntrac -n trac -f backup.sql